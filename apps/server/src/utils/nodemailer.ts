import nodemailer from 'nodemailer';

export const transporter = nodemailer.createTransport({
  service: process.env.SMTP_HOST,
  auth: {
    user: process.env.SMTP_EMAIL,
    pass: process.env.SMTP_APPKEY,
  },
});

export const resetPasswordMailTemplate = (resetLink: string, readableExpires: string) => `
  <!DOCTYPE html>
  <html lang="ko">
    <head>
      <meta charset="UTF-8" />
      <title>비밀번호 재설정</title>
    </head>
    <body style="font-family: Arial, sans-serif; background-color:#f9f9f9; padding:20px;">
      <div style="max-width:600px; margin:0 auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1);">
        <div style="text-align:left; margin-bottom:30px;">
          <svg xmlns="http://www.w3.org/2000/svg" width="220" height="20" viewBox="0 0 155 14" fill="none">
            <path d="M16.0713 8.66211C16.0713 9.58965 16.3138 10.3014 16.7969 10.7979C17.2799 11.2811 17.9584 11.5234 18.833 11.5234C19.7209 11.5234 20.4065 11.2812 20.8896 10.7979C21.3728 10.3014 21.6143 9.58965 21.6143 8.66211V0.196289H24.376V8.64258C24.376 9.80526 24.1215 10.7916 23.6123 11.6016C23.1161 12.3984 22.4434 12.9993 21.5947 13.4043C20.7591 13.8092 19.8254 14.0117 18.7939 14.0117C17.7756 14.0117 16.8483 13.8092 16.0127 13.4043C15.1903 12.9993 14.5377 12.3983 14.0547 11.6016C13.5716 10.7916 13.3301 9.80526 13.3301 8.64258V0.196289H16.0713V8.66211ZM105.832 0C107.242 0 108.385 0.346672 109.26 1.03906C110.148 1.71836 110.638 2.67149 110.729 3.89941H107.713C107.687 3.42919 107.484 3.0436 107.105 2.74316C106.74 2.42976 106.25 2.27345 105.637 2.27344C105.101 2.27344 104.67 2.41023 104.344 2.68457C104.03 2.95889 103.874 3.35743 103.874 3.87988C103.874 4.24564 103.992 4.55258 104.227 4.80078C104.475 5.03583 104.775 5.23194 105.127 5.38867C105.493 5.53238 106.002 5.70248 106.655 5.89844C107.543 6.1597 108.268 6.42135 108.829 6.68262C109.391 6.9439 109.874 7.33587 110.278 7.8584C110.683 8.38094 110.886 9.06695 110.886 9.91602C110.886 10.6474 110.696 11.3262 110.317 11.9531C109.939 12.5802 109.384 13.084 108.653 13.4629C107.922 13.8287 107.053 14.0107 106.048 14.0107C105.095 14.0107 104.233 13.848 103.463 13.5215C102.706 13.1949 102.105 12.7242 101.661 12.1104C101.217 11.4964 100.989 10.7715 100.976 9.93555H103.913C103.952 10.4971 104.149 10.9411 104.501 11.2676C104.867 11.5941 105.363 11.7578 105.989 11.7578C106.629 11.7578 107.131 11.6071 107.497 11.3066C107.863 10.9931 108.046 10.5882 108.046 10.0918C108.046 9.687 107.922 9.35399 107.674 9.09277C107.426 8.8315 107.112 8.62905 106.733 8.48535C106.368 8.32861 105.859 8.15845 105.206 7.97559C104.318 7.71431 103.593 7.45915 103.031 7.21094C102.483 6.94966 102.006 6.56402 101.602 6.05469C101.21 5.53218 101.015 4.83951 101.015 3.97754C101.015 3.16776 101.216 2.46216 101.621 1.86133C102.026 1.26049 102.594 0.803764 103.325 0.490234C104.056 0.16369 104.892 5.45817e-05 105.832 0ZM135.215 0C136.507 0 137.683 0.300534 138.74 0.901367C139.811 1.50231 140.654 2.33891 141.268 3.41016C141.894 4.46821 142.207 5.66378 142.207 6.99609C142.207 8.3415 141.894 9.54996 141.268 10.6211C140.654 11.6793 139.811 12.5084 138.74 13.1094C137.67 13.7103 136.494 14.0107 135.215 14.0107C133.935 14.0107 132.76 13.7103 131.689 13.1094C130.619 12.5085 129.77 11.6791 129.144 10.6211C128.517 9.54994 128.203 8.34155 128.203 6.99609C128.203 5.66369 128.517 4.46827 129.144 3.41016C129.77 2.33895 130.619 1.50231 131.689 0.901367C132.76 0.300465 133.935 3.99166e-05 135.215 0ZM86.3672 0.0195312C87.9078 0.0195861 89.2459 0.398639 90.3818 1.15625C91.5178 1.9009 92.3015 2.95287 92.7324 4.31152H89.5791C89.2657 3.73671 88.8345 3.29852 88.2861 2.99805C87.7379 2.6977 87.0982 2.5479 86.3672 2.54785C85.5576 2.54785 84.8387 2.73089 84.2119 3.09668C83.5854 3.46246 83.0956 3.98494 82.7432 4.66406C82.3907 5.34334 82.2148 6.12738 82.2148 7.01562C82.2149 7.93001 82.3906 8.72698 82.7432 9.40625C83.1088 10.0856 83.6121 10.6078 84.252 10.9736C84.8917 11.3393 85.6357 11.5225 86.4844 11.5225C87.5289 11.5225 88.3839 11.2479 89.0498 10.6992C89.7157 10.1375 90.1534 9.36005 90.3623 8.36719H85.6621V6.27051H93.0654V8.66113C92.8826 9.6148 92.4903 10.4967 91.8896 11.3066C91.289 12.1166 90.5127 12.7702 89.5596 13.2666C88.6195 13.7499 87.5618 13.9912 86.3867 13.9912C85.0679 13.9912 83.8725 13.6973 82.8018 13.1094C81.7443 12.5085 80.9085 11.6791 80.2949 10.6211C79.6944 9.56299 79.3946 8.36109 79.3945 7.01562C79.3945 5.67021 79.6944 4.46824 80.2949 3.41016C80.9086 2.339 81.7442 1.50877 82.8018 0.920898C83.8725 0.319956 85.0615 0.0195312 86.3672 0.0195312ZM5.64062 0.196289C6.5677 0.196289 7.36435 0.34699 8.03027 0.647461C8.70912 0.947878 9.21813 1.36589 9.55762 1.90137C9.91011 2.4369 10.0869 3.04444 10.0869 3.72363C10.0869 4.52051 9.8713 5.18704 9.44043 5.72266C9.0226 6.25828 8.46096 6.63729 7.75586 6.85938C8.52624 7.00308 9.16007 7.38855 9.65625 8.01562C10.1523 8.6426 10.4004 9.3611 10.4004 10.1709C10.4004 10.9025 10.2172 11.5496 9.85156 12.1113C9.49905 12.6598 8.98345 13.0908 8.30469 13.4043C7.62573 13.7178 6.82253 13.875 5.89551 13.875H0V0.196289H5.64062ZM30.5518 13.875H27.8096V0.196289H30.5518V13.875ZM36.7852 11.6992H41.29V13.875H34.0439V0.196289H36.7852V11.6992ZM48.5957 0.196289C50.0319 0.196289 51.2923 0.477367 52.376 1.03906C53.4726 1.60074 54.3148 2.40431 54.9023 3.44922C55.503 4.48127 55.8037 5.68395 55.8037 7.05566C55.8037 8.42722 55.5029 9.62918 54.9023 10.6611C54.3148 11.68 53.4727 12.4705 52.376 13.0322C51.2922 13.5939 50.032 13.875 48.5957 13.875H43.8174V0.196289H48.5957ZM61.3818 13.875H58.6396V0.196289H61.3818V13.875ZM116.789 5.82031H122.645V0.196289H125.387V13.875H122.645V8.05469H116.789V13.875H114.047V0.196289H116.789V5.82031ZM150.064 0.196289C151.122 0.196305 152.023 0.379342 152.768 0.745117C153.512 1.11082 154.066 1.61403 154.432 2.25391C154.81 2.89404 155 3.61972 155 4.42969C155 5.16117 154.823 5.84725 154.471 6.4873C154.131 7.12721 153.59 7.64333 152.846 8.03516C152.115 8.42706 151.187 8.62303 150.064 8.62305H147.772V13.875H145.03V0.196289H150.064ZM73.8252 9.58203V0.175781H76.5674V13.874H73.8252L67.6162 4.4873V13.874H64.874V0.175781H67.6162L73.8252 9.58203ZM2.74219 11.6406H5.50391C6.16951 11.6406 6.68524 11.4842 7.05078 11.1709C7.42944 10.8574 7.61914 10.4127 7.61914 9.83789C7.61914 9.25002 7.42297 8.79242 7.03125 8.46582C6.63963 8.12637 6.11091 7.9571 5.44531 7.95703H2.74219V11.6406ZM135.215 2.46875C134.392 2.46879 133.661 2.65186 133.021 3.01758C132.395 3.38337 131.905 3.91308 131.553 4.60547C131.2 5.28474 131.023 6.08172 131.023 6.99609C131.023 7.91043 131.2 8.71394 131.553 9.40625C131.905 10.0985 132.395 10.6339 133.021 11.0127C133.661 11.3784 134.392 11.5615 135.215 11.5615C136.037 11.5615 136.762 11.3784 137.389 11.0127C138.015 10.6338 138.506 10.0986 138.858 9.40625C139.211 8.71394 139.387 7.91043 139.387 6.99609C139.387 6.08182 139.211 5.2847 138.858 4.60547C138.506 3.91308 138.015 3.38337 137.389 3.01758C136.762 2.65196 136.037 2.46875 135.215 2.46875ZM46.5586 11.543H48.498C49.9341 11.543 51.0437 11.1508 51.8271 10.3672C52.6105 9.58342 53.0029 8.47945 53.0029 7.05566C53.0029 5.63169 52.6106 4.52053 51.8271 3.72363C51.0437 2.91395 49.9341 2.5088 48.498 2.50879H46.5586V11.543ZM147.772 6.4082H149.947C150.704 6.40813 151.265 6.2388 151.631 5.89941C151.996 5.54674 152.18 5.05663 152.18 4.42969C152.18 3.0973 151.435 2.4308 149.947 2.43066H147.772V6.4082ZM2.74219 5.83984H5.24902C5.90177 5.83984 6.4043 5.69648 6.75684 5.40918C7.10933 5.10876 7.28608 4.6843 7.28613 4.13574C7.28613 3.58706 7.10938 3.1618 6.75684 2.86133C6.40431 2.56109 5.90164 2.41113 5.24902 2.41113H2.74219V5.83984Z" fill="#1A1C20"/>
          </svg>
        </div>
        <h2 style="color:#333;">비밀번호 재설정</h2>
        <p>아래 버튼을 눌러 비밀번호를 재설정해주세요.</p>
        <div style="text-align:left; margin:30px 0;">
          <a href="https://example.com/reset-password?token=sample_token_here" target="_blank"
            style="padding:12px 24px; background:#4f46e5; color:white; text-decoration:none; border-radius:6px; font-weight:bold;">
            비밀번호 재설정하기
          </a>
        </div>
        <p style="color:#555;">이 링크는 24시간 후 만료됩니다.</p>
        <p style="color:#999; font-size:12px;">만약 요청하지 않았다면 이 메일을 무시하세요.(멘트 수정 + 회사 정보같은거 기입하기)</p>
      </div>
    </body>
  </html>
`;
